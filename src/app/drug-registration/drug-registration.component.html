<label for="paciente">Buscar paciente</label>
<input (input)="buscaPacientePeloNome()" (click)="listarPacientes()" [(ngModel)]="paciente.nome" d="paciente"
    type="text">

<br>
<div class="dropdown">
    <div class="dropdown-content" *ngIf="!showForm">
        <a *ngFor="let resultado of resultadosDaBusca" (click)="showForm = true"
            class="dropdown-item">{{resultado.nomeCompleto}}</a>
    </div>
</div>
<div *ngIf="showForm">
    <div *ngFor="let resultado of resultadosDaBusca">
    <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <div>
               Nome do paciente: {{resultado.nomeCompleto | titlecase}}
            </div>
            <label for="nomeMedicamento">Medicamento</label>
            <input type="text" class="form-control" id="nomeMedicamento" formControlName="nomeMedicamento">
    
        </div>
        <div class="form-group">
            <label for="data">Data</label>
            <input type="date" class="form-control" id="data" formControlName="data">
        </div>
        <div class="form-group">
            <label for="horario">Horário</label>
            <input type="time" class="form-control" id="horario" formControlName="horario">
        </div>
        <div class="form-group">
            <label for="tipo">Tipo de medicamento</label>
            <select class="form-control" id="tipo" formControlName="tipo">
                <option *ngFor="let tipo of tiposMedicamento" [value]="tipo">{{tipo}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="quantidade">Quantidade</label>
            <input type="number" class="form-control" id="quantidade" formControlName="quantidade">
        </div>
        <div class="form-group">
            <label for="unidade">Unidade:</label>
            <select id="unidade" formControlName="unidade" class="form-control">
                <option value="">Selecione uma opção</option>
                <option *ngFor="let unidade of unidades" [value]="unidade">{{unidade}}</option>
            </select>
        </div>
    
    
        <div class="form-group">
            <label for="quantidade">Quantidade:</label>
            <input type="text" id="quantidade" class="form-control" formControlName="quantidade">
        </div>
    
        <div class="form-group">
            <label for="unidade">Unidade:</label>
            <select id="unidade" class="form-control" formControlName="unidade">
                <option *ngFor="let unidade of unidades" [value]="unidade">{{unidade}}</option>
            </select>
        </div>
    
        <div class="form-group">
            <label for="observacoes">Observações:</label>
            <textarea id="observacoes" class="form-control" formControlName="observacoes"></textarea>
    
        </div>
    
        <div class="form-group">
            <button type="submit" class="btn btn-primary mr-2" [disabled]="formulario.invalid">
                Salvar
            </button>
            <button type="button" class="btn btn-secondary mr-2" (click)="formulario.reset()">
                Limpar
            </button>
            <button type="button" class="btn btn-secondary" (click)="showForm = false">
                Cancelar
            </button>
        </div>
    
    </form>

    </div>
</div>

